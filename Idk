#Create a text adventure game like Wishbringer, and have different areas and puzzles and stuff
#Figure out how to make an area, with different commands within said area
#Figure out how to move bewteen areas
#Figure out how to make puzzles bewteen the areas
#Expand and make smoother

def moving(comm):
    global currentroom
    if(comm == "west"):
        realness="west" in dirs
        if realness==True:
            currentroom=(dirs["west"])
        else:
            print("You can't go that way")   
    if(comm == "east"):
        realness="east" in dirs
        if realness==True:
            currentroom=(dirs["east"])
        else:
            print("You can't go that way")  
    if(comm == "south"):
        realness="south" in dirs
        if realness==True:
            currentroom=(dirs["south"])
        else:
            print("You can't go that way")  
    if(comm == "north"):
        realness="north" in dirs
        if realness==True:
            currentroom=(dirs["north"])
        else:
            print("You can't go that way")

def push(comm):
    global light
    global currentroom
    if comm=="push":
        print("What would you like to push?")
    elif comm=="push button" and currentroom=="room1":
        print("You pushed the button!")
        light="on"

def pull(comm):
    global currentroom
    global light
    global door
    if comm=="pull":
        print("What would you like to pull?")
    elif comm=="pull lever" and currentroom=="room2" and light=="on":
        print("You pulled the lever. A door opens to a dark hallway heading north")
        door="open"

def take(comm):
    global currentroom
    global inventory
    if comm=="take":
        print("What would you like to take?")
    if comm=="take ring" and "ring" in roomitemdict[currentroom]:
        inventory.append("ring")
        roomitemdict[currentroom].remove("ring")
        print("You took the ring!")
        
def drop(comm):
    global currentroom
    global inventory
    if comm=="drop":
        print("What would you like to drop?")
    if comm=="drop ring" and ("ring" in inventory):
        roomitemdict[currentroom].append("ring")
        inventory.remove("ring")
        print("You dropped the ring!")


def room1(proom):
    directions = {"east": "room2"}
    if proom=="room1":
        pass
    else:
        print("You are in room1! There is a button labelled lights")
    return directions

def room2(lit, proom, dor):
    directions = {"west": "room1"}
    if dor=="open":
        directions = {"west": "room1", "north": "room3"}
    if proom=="room2":
        pass
    elif proom!="room2":
        print("You are in room2!")
        if dor=="open":
            print("A hallway leads north")
        if lit=="on":
            print("A light is on revealing a lever in the corner.")
        if lit=="off":
            print("The room is dark")
    return directions

def room3(proom):
    directions = {"south": "room2"}  
    if proom=="room3":
        pass
    if proom!="room3":
        print("You are in room3!")
    return directions

currentroom="room1"
light="off"
preroom="no"
inventory=[]
door="no"
room1item=[]
room2item=[]
room3item=[]
roomitemdict={"room1":room1item, "room2":room2item, "room3":room3item}
roomitemdict["room3" ].append("ring")

print("Hello, welcome to the game. To play simply type what you would like to do. Commands include north, south, east, west, pull, push, look, take, drop, and talk. To end the game type 'quit'. Have fun!")

while True:
    if currentroom=="room1":
        dirs = room1(preroom)
        preroom="room1"
    if currentroom=="room2":
        dirs = room2(light, preroom, door)
        preroom="room2"
    if currentroom=="room3":
        dirs = room3(preroom)
        preroom="room3"
    com=input(">> ")
    moving(com)
    push(com)
    pull(com)
    take(com)
    drop(com)
    if com=="quit":
        break
    
    
    
    
    
    
    

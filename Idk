#Final Project
#Name: Emma Dunbar

def moving(comm):
    global currentroom
    if(comm == "west"):
        realness="west" in dirs
        if realness==True:
            currentroom=(dirs["west"])
        else:
            print("You can't go that way")   
    if(comm == "east"):
        realness="east" in dirs
        if realness==True:
            currentroom=(dirs["east"])
        else:
            print("You can't go that way")  
    if(comm == "south"):
        realness="south" in dirs
        if realness==True:
            currentroom=(dirs["south"])
        else:
            print("You can't go that way")  
    if(comm == "north"):
        realness="north" in dirs
        if realness==True:
            currentroom=(dirs["north"])
        else:
            print("You can't go that way")
   
def push(comm):
    global light
    global currentroom
    global motherdoor
    global livingdoor
    if comm=="push":
        print("What would you like to push?")
    elif comm=="push button" and currentroom=="room1" and light=="off":
        print("You pushed the button! The lights in the hallway flicker on")
        light="on"
    elif comm=="push button" and currentroom=="room1" and light=="on":
        print("You pushed the button! The lights in the hallway turn off")
        light="off"
    elif comm=="push lever" and currentroom=="room2" and light=="on":
        print("You pushed the lever!")
        motherdoor="no"
        livingdoor="open"

def pull(comm):
    global currentroom
    global light
    global motherdoor
    global livingdoor
    if comm=="pull":
        print("What would you like to pull?")
    elif comm=="pull lever" and currentroom=="room2" and light=="on":
        print("You pulled the lever. A door opens to the north")
        motherdoor="open"
        livingdoor="no"

def take(comm):
    global currentroom
    global inventory
    if comm=="take":
        print("What would you like to take?")
    if comm=="take ring" and "ring" in roomitemdict[currentroom]:
        inventory.append("ring")
        roomitemdict[currentroom].remove("ring")
        print("You took the ring!")

def drop(comm):
    global currentroom
    global inventory
    if comm=="drop":
        print("What would you like to drop?")
    if comm=="drop ring" and ("ring" in inventory):
        roomitemdict[currentroom].append("ring")
        inventory.remove("ring")
        print("You dropped the ring!")

def look(comm, lit, motherdor):
    global currentroom
    if comm=="look" and currentroom=="room1":
        print("There is small button in the corner that is used to operate the castle lights. There is a doorway that leads to a hallway to the east")
        roomcontent()
    if comm=="look" and currentroom=="room2":
        if lit=="off":
            print("The hallway is dark")
        if lit=="on":
            print("A light is on revealing a lever in the corner")
            if motherdor=="open":
                print("An open door leads to the north")
            if livingdoor=="open":
                print("An open door leads east")
            roomcontent()
    if comm=="look" and currentroom=="room3":
        print("An open door leads to a hallway to the south")
        if lit=="off":
            print("The bedroom is dark")
        if lit=="on":
            roomcontent()
    if comm=="look" and currentroom=="room4":
        print("An open door leads to the west")
        if lit=="off":
            print("The living room is dark")
        if lit=="on":
            roomcontent()
    

def room1(proom):
    directions = {"east": "room2"}
    if proom=="room1":
        pass
    elif proom != "room1":
        print("You are in your bedchamber")
    return directions

def room2(proom, motherdor, livingdor):
    directions = {"west": "room1"}
    if motherdor=="open":
        directions = {"west": "room1", "north": "room3"}
    if livingdor=="open":
        directions = {"west" : "room1", "east": "room4"}
    if proom=="room2":
        pass
    elif proom!="room2":
        print("You are in a hallway")
    return directions

def room3(proom):
    directions = {"south": "room2"}  
    if proom=="room3":
        pass
    elif proom!="room3":
        print("You are in your mothers bedroom")
    return directions

def room4(proom):
    directions = {"west":"room2"}
    if proom=="room4":
        pass
    elif proom!="room4":
        print("You are in your livng room")
    return directions

def roomcontent():
    if "ring" in roomitemdict[currentroom]:
        print("There is a ring in this room")

currentroom="room1"
light="off"
preroom="room1"
inventory=[]
motherdoor="no"
livingdoor="no"
room1item=[]
room2item=[]
room3item=[]
room4item=[]
roomitemdict={"room1":room1item, "room2":room2item, "room3":room3item, "room4":room4item}
roomitemdict["room3" ].append("ring")

print("Hello, welcome to the game. To play simply type what you would like to do. Commands include north, south, east, west, pull, push, look, take, drop, and talk. To end the game type 'quit'. Have fun!")
print("You awaken in your large plush bed to the sound of birds chirping through your open window, and light streams in and fills the previously dark corners of your bedchamber")

while True:
    if currentroom=="room1":
        dirs = room1(preroom)
        preroom="room1"
    if currentroom=="room2":
        dirs = room2(preroom, motherdoor, livingdoor)
        preroom="room2"
    if currentroom=="room3":
        dirs = room3(preroom)
        preroom="room3"
    if currentroom=="room4":
        dirs = room4(preroom)
        preroom = "room4"
    com=input(">> ")
    moving(com)
    push(com)
    pull(com)
    take(com)
    drop(com)
    look(com, light, motherdoor)
    if com=="quit":
        break    